<style>
  cloze2.reveal-cloze2 {
    display: inline;
  }

  cloze2_w.reveal-cloze2 {
    display: none;
  }

  .cloze2-toggle {
    display: block;
    font-size: 1.5em !important;
    padding: .5em 1em;
    margin: auto;
  }
</style>

<script>
  function toggle() {
    var elements = document.querySelectorAll('cloze2, cloze2_w');
    for (var i = 0; i < elements.length; i++) {
      elements[i].classList.toggle('reveal-cloze2');
    }
  }

  // Reveal only current clozes here
  setTimeout(function () {
    // Try getting current cloze number
    let currentClozeNumber = null

    const clozeBoxes = document.querySelector('.cloze cloze2_w') || document.querySelector('.cloze cz_hide')
    for (const cls of clozeBoxes.classList) {
      const m = cls.match(/^cz-(\d+)$/)
      if (m) {
        currentClozeNumber = m[1]
        break
      }
    }
    if (currentClozeNumber === null) {
      // 2.1.56+ - use 'data-ordinal' property.
      const clozeSpan = document.querySelector('span.cloze')
      if (clozeSpan) {
        currentClozeNumber = Number(clozeSpan.dataset.ordinal)
      }
    }

    const elements = document.querySelectorAll('cloze2.cz-' + currentClozeNumber)
    for (var i = 0; i < elements.length; i++) {
      elements[i].style.display = 'inline'
    }
  }, 0)
</script>

<button class='cloze2-toggle' onclick='toggle()'>Toggle mask</button>